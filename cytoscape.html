<!DOCTYPE html>
<html lang="de">
<head>
    <script src="https://unpkg.com/cytoscape@3.21.0/dist/cytoscape.min.js"></script>
</head>
<body>
    <div id="cy" style="width: 800px; height: 600px;"></div>

    <script>
        var cy = cytoscape({
            container: document.getElementById('cy'),
            elements: [
                { data: { id: 'ResourceGroup', label: 'Resource Group' } },
                { data: { id: 'VM1', label: 'VM1' } },
                { data: { source: 'ResourceGroup', target: 'VM1' } }
            ],
            layout: { name: 'cose' },
            style: [
                { selector: 'node', style: { 'content': 'data(label)', 'background-color': '#0078D4', 'color': '#fff', 'text-valign': 'center' } },
                { selector: 'edge', style: { 'width': 2, 'line-color': '#ccc' } }
            ]
        });

        // ðŸ”¥ Event-Handler fÃ¼r Klick auf einen Knoten
        cy.on('tap', 'node', function(evt) {
            var node = evt.target;
            var nodeId = node.id();
            console.log("Geklickt: " + nodeId);

            // Simulierte API-Abfrage (In echt: REST API oder Azure Resource Graph Query)
            if (nodeId === "VM1") {
                cy.add([
                    { data: { id: 'Disk1', label: 'Disk1' } },
                    { data: { source: 'VM1', target: 'Disk1' } }
                ]);
            }
        });
    </script>
</body>
</html>
